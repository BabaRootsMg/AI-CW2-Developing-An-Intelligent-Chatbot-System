2025-05-08 14:57:07,259 INFO User: I want to get a train from Ipswich to Norwich
2025-05-08 14:57:08,023 INFO Asking station confirmation
2025-05-08 14:57:08,101 INFO Bot: Just to confirm: you want to travel from Ipswich to Norwich, correct?
2025-05-08 14:57:10,385 INFO User: yes
2025-05-08 14:57:10,386 INFO User confirmed stations
2025-05-08 14:57:10,396 INFO Bot: (Info needed) At what time would you prefer? Please use 24-hour HH:MM format.
2025-05-08 14:57:23,734 INFO User: 16:00
2025-05-08 14:57:23,839 INFO Bot: (Info needed) Is this a single or return trip?
2025-05-08 14:57:27,411 INFO User: single
2025-05-08 14:57:27,475 INFO All slots filled: {'date': datetime.date(2025, 5, 8), 'return_date': datetime.date(2025, 5, 22), 'departure': 'IPS', 'destination': 'NRW', 'time': datetime.time(16, 0), 'trip_type': 'single'}, initiating ticket search
2025-05-08 14:57:27,476 INFO ====== WebDriver manager ======
2025-05-08 14:57:27,690 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 14:57:27,850 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 14:57:28,013 INFO Driver [/Users/johncallaghan/.wdm/drivers/chromedriver/mac64/136.0.7103.92/chromedriver-mac-arm64/chromedriver] found in cache
2025-05-08 14:57:57,482 ERROR Ticket search timed out
2025-05-08 14:57:57,533 INFO Bot: Sorry, searching for tickets is taking too long. Please try again later.
2025-05-08 14:58:48,876 INFO Conversation reset by user.
2025-05-08 14:59:02,219 INFO User: I want to book a train from Norwich to ipswich
2025-05-08 14:59:02,336 INFO Asking station confirmation
2025-05-08 14:59:02,448 INFO Bot: Just to confirm: you want to travel from Norwich to Ipswich, correct?
2025-05-08 14:59:04,305 INFO User: yes
2025-05-08 14:59:04,306 INFO User confirmed stations
2025-05-08 14:59:04,316 INFO Bot: (Info needed) At what time would you prefer? Please use 24-hour HH:MM format.
2025-05-08 15:00:06,337 INFO User: 15:30
2025-05-08 15:00:06,362 INFO Bot: (Info needed) Is this a single or return trip?
2025-05-08 15:00:09,957 INFO User: single
2025-05-08 15:00:10,011 INFO All slots filled: {'date': datetime.date(2025, 5, 8), 'return_date': datetime.date(2025, 5, 22), 'departure': 'NRW', 'destination': 'IPS', 'time': datetime.time(15, 30), 'trip_type': 'single'}, initiating ticket search
2025-05-08 15:00:10,011 INFO ====== WebDriver manager ======
2025-05-08 15:00:10,239 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 15:00:10,376 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 15:00:10,511 INFO Driver [/Users/johncallaghan/.wdm/drivers/chromedriver/mac64/136.0.7103.92/chromedriver-mac-arm64/chromedriver] found in cache
2025-05-08 15:00:16,333 ERROR Error during ticket search
Traceback (most recent call last):
  File "/Users/johncallaghan/Documents/GitHub/AI-CW2-Developing-An-Intelligent-Chatbot-System/chatbot_logic.py", line 134, in _handle_find_ticket
    ticket = future.result(timeout=30)  # give it a bit more time
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/concurrent/futures/_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/johncallaghan/Documents/GitHub/AI-CW2-Developing-An-Intelligent-Chatbot-System/trainlinescraper.py", line 165, in find_cheapest_ticket
    select_origin_and_destination(driver, departure, destination)
  File "/Users/johncallaghan/Documents/GitHub/AI-CW2-Developing-An-Intelligent-Chatbot-System/trainlinescraper.py", line 34, in select_origin_and_destination
    selected_origin = driver.find_element(By.ID, "jsf-origin-input").get_attribute("value")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/site-packages/selenium/webdriver/remote/webdriver.py", line 917, in find_element
    return self.execute(Command.FIND_ELEMENT, {"using": by, "value": value})["value"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/site-packages/selenium/webdriver/remote/webdriver.py", line 448, in execute
    self.error_handler.check_response(response)
  File "/Users/johncallaghan/anaconda3/envs/chatbot-env/lib/python3.11/site-packages/selenium/webdriver/remote/errorhandler.py", line 232, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchWindowException: Message: no such window: target window already closed
from unknown error: web view not found
  (Session info: chrome=136.0.7103.93)
Stacktrace:
0   chromedriver                        0x00000001034703bc cxxbridge1$str$ptr + 2829900
1   chromedriver                        0x0000000103468684 cxxbridge1$str$ptr + 2797844
2   chromedriver                        0x0000000102fa5fbc cxxbridge1$string$len + 90140
3   chromedriver                        0x0000000102f80798 chromedriver + 133016
4   chromedriver                        0x0000000103015048 cxxbridge1$string$len + 544936
5   chromedriver                        0x000000010302db50 cxxbridge1$string$len + 646064
6   chromedriver                        0x0000000102fe13f8 cxxbridge1$string$len + 332888
7   chromedriver                        0x00000001034347e0 cxxbridge1$str$ptr + 2585200
8   chromedriver                        0x0000000103437ab0 cxxbridge1$str$ptr + 2598208
9   chromedriver                        0x0000000103415db4 cxxbridge1$str$ptr + 2459716
10  chromedriver                        0x0000000103438328 cxxbridge1$str$ptr + 2600376
11  chromedriver                        0x0000000103407640 cxxbridge1$str$ptr + 2400464
12  chromedriver                        0x000000010345828c cxxbridge1$str$ptr + 2731292
13  chromedriver                        0x0000000103458418 cxxbridge1$str$ptr + 2731688
14  chromedriver                        0x00000001034682d0 cxxbridge1$str$ptr + 2796896
15  libsystem_pthread.dylib             0x000000019723df94 _pthread_start + 136
16  libsystem_pthread.dylib             0x0000000197238d34 thread_start + 8

2025-05-08 15:00:16,339 INFO Bot: Oops, something went wrong fetching tickets. Try again later.
2025-05-08 15:02:07,864 INFO Application closed by user.
2025-05-08 15:02:41,443 INFO User: I need to book a train
2025-05-08 15:02:42,298 INFO Bot: (Info needed) Where are you departing from?
2025-05-08 15:02:47,658 INFO User: Norwich
2025-05-08 15:02:47,714 INFO Bot: (Info needed) Where are you going to?
2025-05-08 15:02:51,010 INFO User: Ipswich
2025-05-08 15:02:51,067 INFO Asking station confirmation
2025-05-08 15:02:51,067 INFO Bot: Just to confirm: you want to travel from Norwich to Ipswich, correct?
2025-05-08 15:02:54,073 INFO User: yes
2025-05-08 15:02:54,075 INFO User confirmed stations
2025-05-08 15:02:54,084 INFO Bot: (Info needed) At what time would you prefer? Please use 24-hour HH:MM format.
2025-05-08 15:02:58,687 INFO User: 5
2025-05-08 15:02:58,702 INFO Bot: (Info needed) At what time would you prefer? Please use 24-hour HH:MM format.
2025-05-08 15:03:01,255 INFO User: 5
2025-05-08 15:03:01,272 INFO Bot: (Info needed) At what time would you prefer? Please use 24-hour HH:MM format.
2025-05-08 15:03:08,823 INFO User: 20:00
2025-05-08 15:03:08,860 INFO Bot: (Info needed) Is this a single or return trip?
2025-05-08 15:03:11,920 INFO User: single
2025-05-08 15:03:11,978 INFO All slots filled: {'date': datetime.date(2025, 5, 8), 'departure': 'NRW', 'destination': 'IPS', 'time': datetime.time(20, 0), 'trip_type': 'single'}, initiating ticket search
2025-05-08 15:03:11,978 INFO ====== WebDriver manager ======
2025-05-08 15:03:12,230 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 15:03:12,402 INFO Get LATEST chromedriver version for google-chrome
2025-05-08 15:03:12,546 INFO Driver [/Users/johncallaghan/.wdm/drivers/chromedriver/mac64/136.0.7103.92/chromedriver-mac-arm64/chromedriver] found in cache
2025-05-08 15:03:41,984 ERROR Ticket search timed out
2025-05-08 15:03:42,043 INFO Bot: Sorry, searching for tickets is taking too long. Please try again later.
